## Part 1. Установка ОС

**== Задание ==**

##### Установить **Ubuntu 20.04 Server LTS** без графического интерфейса. (Используем программу для виртуализации - VirtualBox)

- Графический интерфейс должен отсутствовать.

- Узнайте версию Ubuntu, выполнив команду \
`cat /etc/issue.`
- Вставьте скриншот с выводом команды.
![](screen/01.00.png)
## Part 2. Создание пользователя

**== Задание ==**

##### Создать пользователя, отличного от пользователя, который создавался при установке. Пользователь должен быть добавлен в группу `adm`.

- Вставьте скриншот вызова команды для создания пользователя.
![](screen/02.00.png)
- Новый пользователь должен быть в выводе команды \
`cat /etc/passwd`
- Вставьте скриншот с выводом команды.
![](screen/02.01.png)
## Part 3. Настройка сети ОС

**== Задание ==**

##### Задать название машины вида user-1  
![](screen/03.00.png)
##### Установить временную зону, соответствующую вашему текущему местоположению.  
![](screen/03.02.png)
##### Вывести названия сетевых интерфейсов с помощью консольной команды.
![](screen/03.03.png)
- В отчёте дать объяснение наличию интерфейса lo.  

``lo (loopback device) – виртуальный интерфейс, присутствующий по умолчанию в любом Linux. Он используется для отладки сетевых программ и запуска серверных приложений на локальной машине. С этим интерфейсом всегда связан адрес 127.0.0.1. У него есть dns-имя – localhost.``<br>

##### Используя консольную команду получить ip адрес устройства, на котором вы работаете, от DHCP сервера. 
![](screen/03.04.png)
- В отчёте дать расшифровку DHCP.  

``DHCP (англ. Dynamic Host Configuration Protocol — протокол динамической настройки узла) — сетевой протокол, позволяющий сетевым устройствам автоматически получать IP-адрес и другие параметры, необходимые для работы в сети TCP/IP. Данный протокол работает по модели «клиент-сервер». Для автоматической конфигурации компьютер-клиент на этапе конфигурации сетевого устройства обращается к так называемому серверу DHCP и получает от него нужные параметры. Сетевой администратор может задать диапазон адресов, распределяемых сервером среди компьютеров. Это позволяет избежать ручной настройки компьютеров сети и уменьшает количество ошибок. Протокол DHCP используется в большинстве сетей TCP/IP.``<br>

##### Определить и вывести на экран внешний ip-адрес шлюза (ip) и внутренний IP-адрес шлюза, он же ip-адрес по умолчанию (gw). 
![](screen/03.05.png)
##### Задать статичные (заданные вручную, а не полученные от DHCP сервера) настройки ip, gw, dns (использовать публичный DNS серверы, например 1.1.1.1 или 8.8.8.8).  
``sudo nano /etc/netplan/00-installer-config.yaml``<br>
![](screen/03.06.png)
![](screen/03.07.png)<br>
``reboot``<br>

``ping 1.1.1.1``<br>
![](screen/03.08.png)<br>


``ping ya.ru``<br>
![](screen/03.09.png)

##### Перезагрузить виртуальную машину. Убедиться, что статичные сетевые настройки (ip, gw, dns) соответствуют заданным в предыдущем пункте.  
![](screen/03.10.png)

- В отчёте опишите, что сделали для выполнения всех семи пунктов (можно как текстом, так и скриншотами).
- Успешно пропинговать удаленные хосты 1.1.1.1 и ya.ru и вставить в отчёт скрин с выводом команды. В выводе команды должна быть фраза "0% packet loss".

## Part 4. Обновление ОС

**== Задание ==**

##### Обновить системные пакеты до последней на момент выполнения задания версии.  

- После обновления системных пакетов, если ввести команду обновления повторно, должно появиться сообщение, что обновления отсутствуют.
- Вставить скриншот с этим сообщением в отчёт.
![](screen/04.00.png)

## Part 5. Использование команды **sudo**

**== Задание ==**

##### Разрешить пользователю, созданному в [Part 2](#part-2-создание-пользователя), выполнять команду sudo.

- В отчёте объяснить *истинное* назначение команды sudo (про то, что это слово - "волшебное", писать не стоит).  

``Sudo — это утилита, предоставляющая привилегии root для выполнения административных операций в соответствии со своими настройками. Она позволяет легко контролировать доступ к важным приложениям в системе. По умолчанию, при установке Ubuntu первому пользователю (тому, который создаётся во время установки) предоставляются полные права на использование sudo. Т.е. фактически первый пользователь обладает той же свободой действий, что и root.``<br>

- Поменять hostname ОС от имени пользователя, созданного в пункте [Part 2](#part-2-создание-пользователя) (используя sudo).
- Вставить скрин с изменённым hostname в отчёт.
![](screen/05.00.png)

## Part 6. Установка и настройка службы времени

**== Задание ==**

##### Настроить службу автоматической синхронизации времени.  

- Вывести время часового пояса, в котором вы сейчас находитесь.
- Вывод следующей команды должен содержать `NTPSynchronized=yes`: \
  `timedatectl show`
- Вставить скрины с корректным временем и выводом команды в отчёт.
![](screen/06.00.png)

## Part 7. Установка и использование текстовых редакторов 

**== Задание ==**

##### Установить текстовые редакторы **VIM** (+ любые два по желанию **NANO**, **MCEDIT**, **JOE** и т.д.)  
##### Используя каждый из трех выбранных редакторов, создайте файл *test_X.txt*, где X -- название редактора, в котором создан файл. Напишите в нём свой никнейм, закройте файл с сохранением изменений.  
- В отчёт вставьте скриншоты:
  - Из каждого редактора с содержимым файла перед закрытием.
- В отчёте укажите, что сделали для выхода с сохранением изменений.

![](screen/07.00.png)
vim test_VIM.txt<br>
`` - Режим редактирования: I``<br>
`` - Выйти из режима редактирования: esc``<br>
`` - Выход с охранением: :wq``<br>

![](screen/07.01.png)<br>
`` - nano test_NANO.txt``<br>
`` - Выход с охранением: CTRL + x, затем y b enter``<br>

![](screen/07.02.png)<br>
`` - mcedit test_mcedit.txt``<br>
`` - Выход с охранением: F2 (yes) + F10``<br>

##### Используя каждый из трех выбранных редакторов, откройте файл на редактирование, отредактируйте файл, заменив никнейм на строку "21 School 21", закройте файл без сохранения изменений.
- В отчёт вставьте скриншоты:
    - Из каждого редактора с содержимым файла после редактирования.
- В отчёте укажите, что сделали для выхода без сохранения изменений.

![](screen/07.03.png)<br>
`` - Выход без сохранения: :q / :q!``<br>

![](screen/07.04.png)
`` - Выход без сохранения: CTRL + x, затем n``<br>

![](screen/07.05.png)
`` - Выход без сохранения: F10(no) / ESC(no)``<br>

##### Используя каждый из трех выбранных редакторов, отредактируйте файл ещё раз (по аналогии с предыдущим пунктом), а затем освойте функции поиска по содержимому файла (слово) и замены слова на любое другое.
- В отчёт вставьте скриншоты:
    - Из каждого редактора с результатами поиска слова.
    - Из каждого редактора с командами, введёнными для замены слова на другое.

![](screen/07.06.png)
![](screen/07.07.png)<br>
`` - Поиск: /"текст, который хотим найти"``<br>
`` - Замена: :s/"что хотим изменить"/"на что хотим заменить"``<br>

![](screen/07.08.png)
![](screen/07.09.png)
`` - Поиск: CTRL + W, затем enter (alt + w для перехода к след. вхождению, ctrl + c для преращения поиска)``<br>
`` - Замена: CTRL + \ "что хотим изменить" enter "на что хотим заменить" enter. A(для замены все вхождения) или y и n по отдельности``<br>

![](screen/07.10.png)
![](screen/07.11.png)
`` - Поиск: F7 + "текст который ищем" + "ок"``<br>
`` - Замена: F4 + "что хотим изменить" + "на что хотим заменить" replace``<br>


## Part 8. Установка и базовая настройка сервиса **SSHD**

**== Задание ==**

##### Установить службу SSHd.  

![](screen/08.00.png)<br>
`` - sudo apt-get install ssh``<br>
`` - sudo apt install openssh-server``<br>

##### Добавить автостарт службы при загрузке системы.  

![](screen/08.01.png)<br>
`` - sudo systemctl enable sshd``<br>
`` - systemctl status sshd``<br>

##### Перенастроить службу SSHd на порт 2022.  

![](screen/08.02.png)<br>
`` - sudo nano /etc/ssh/sshd_config``<br>
`` - systemctl restart sshd``<br>

##### Используя команду ps, показать наличие процесса sshd. Для этого к команде нужно подобрать ключи.
- В отчёте объяснить значение команды и каждого ключа в ней.

![](screen/08.03.png)<br>
`` - ps (показывает запущенные процессы, выполняемые пользователем в окне терминала);``<br>
`` - ps -e или ps -A (Чтобы просмотреть все запущенные процессы);``<br>
`` - ps -d (Чтобы показать все процессы, кроме лидеров сессии);``<br>
`` - ps -d -N (можно инвертировать вывод с помощью переключателя -N. Например, если хочу вывести только лидеров сеансов)``<br>
`` - ps T (увидеть только процессы, связанные с этим терминалом);``<br>
`` - ps r (просмотреть все работающие (running) процессы);``<br>
`` - ps -p 'pid' (если вы знаете идентификатор процесса PID, вы можете просто использовать следующую команду, для вывода процесса с этим 'pid');``<br>
`` - ps -p 'pid1' 'pid2'``<br>
`` - ps U 'userlist' (найти все процессы, выполняемые конкретным пользователем);``<br>
`` - ps -ef (получить полный список);``<br>
##### Перезагрузить систему.
- В отчёте опишите, что сделали для выполнения всех пяти пунктов (можно как текстом, так и скриншотами).
- Вывод команды netstat -tan должен содержать  \
`tcp 0 0 0.0.0.0:2022 0.0.0.0:* LISTEN`  \
(если команды netstat нет, то ее нужно установить)
- Скрин с выводом команды вставить в отчёт.
- В отчёте объяснить значение ключей -tan, значение каждого столбца вывода, значение 0.0.0.0.

![](screen/08.04.png)<br>
`` - -t (--tcp) отображает соедниеня только по tcp``<br>
`` - -a (--all) вывод всех активных подключений TCP``<br>
`` - -n (--numeric) вывод активных подключений TCP с отображением адресов и номеров портов в числовом формате``<br>
`` - Proto: Название протокола (протокол TCP или протокол UDP);``<br>
`` - Recv-Q: очередь получения сети``<br>
`` - Send-Q: Сетевая очередь отправки``<br>
`` - Local Address адрес локального компьтера и используемы номер порта``<br>
`` - Foreign Address адрес и номер удаленного компьтера к которомц подключен сокет``<br>
`` - State состояние сокетв``<br>
`` - 0.0.0.0 означает IP-адрес на локальной машине``<br>
## Part 9. Установка и использование утилит **top**, **htop**

`-` Если бы меня спросили, что полезного делают утилиты **top** и **htop**, я бы ответил одним словом - всё.

**== Задание ==**

##### Установить и запустить утилиты top и htop.  
![](screen/09.00.png)<br>

- По выводу команды top определить и написать в отчёте:
  - uptime - ``24 min``<br>
  - количество авторизованных пользователей - ``1 user``<br>
  - общую загрузку системы - ``0.00 0.00 0.00``<br>
  - общее количество процессов - ``93``<br>
  - загрузку cpu - ``0.0%``<br>
  - загрузку памяти - ``145.8``<br>
  - pid процесса занимающего больше всего памяти - ``1238``<br>
  ``top -o %MEM``
  ![](screen/09.01.png)<br>
  - pid процесса, занимающего больше всего процессорного времени - ``1``<br>
  ``top -o %CPU``
  ![](screen/09.02.png)<br>

- В отчёт вставить скрин с выводом команды htop:
  - отсортированному по PID, PERCENT_CPU, PERCENT_MEM, TIME
  ![](screen/09.03.png)<br>
  ![](screen/09.04.png)<br>
  ![](screen/09.05.png)<br>
  ![](screen/09.06.png)<br>

  - отфильтрованному для процесса sshd
  ![](screen/09.07.png)<br>

  - с процессом syslog, найденным, используя поиск 
  ![](screen/09.08.png)<br>

  - с добавленным выводом hostname, clock и uptime  
  ![](screen/09.09.png)<br>

## Part 10. Использование утилиты **fdisk**

**== Задание ==**

##### Запустить команду fdisk -l.

- В отчёте написать название жесткого диска, его размер и количество секторов, а также размер swap.

![](screen/10.00.png)
![](screen/10.01.png)<br>
`` - название жесткого диска - vbox harddisk;``<br>
`` - размер - 10 GiB;``<br>
`` - количество секторов - 20971520;``<br>
`` - размер swap - 0 GiB.``<br>

## Part 11. Использование утилиты **df** 

**== Задание ==**

![](screen/11.00.png)

##### Запустить команду df.  
- В отчёте написать для корневого раздела (/):<br>
``  - размер раздела - 8408452``<br>
``  - размер занятого пространства - 2659696``<br>
``  - размер свободного пространства - 5300040``<br>
``  - процент использования - 34%``<br>
- Определить и написать в отчёт единицу измерения в выводе - ``килобайт``

##### Запустить команду df -Th.
- В отчёте написать для корневого раздела (/):<br>
``  - размер раздела - 8.1G``<br>
``  - размер занятого пространства - 2.6G``<br>
``  - размер свободного пространства - 5.1G``<br>
``  - процент использования - 34%``<br>
- Определить и написать в отчёт тип файловой системы для раздела - ``ext4``<br>

## Part 12. Использование утилиты **du**

**== Задание ==**

##### Запустить команду du.
##### Вывести размер папок /home, /var, /var/log (в байтах, в человекочитаемом виде)
![](screen/12.00.png)
![](screen/12.01.png)

##### Вывести размер всего содержимого в /var/log (не общее, а каждого вложенного элемента, используя *)
![](screen/12.02.png)

- В отчёт вставить скрины с выводом всех использованных команд.

## Part 13. Установка и использование утилиты **ncdu**

**== Задание ==**

##### Установить утилиту ncdu.
![](screen/13.00.png)
##### Вывести размер папок /home, /var, /var/log.
``ncdu /home``<br>
![](screen/13.01.png)
``ncdu /var``<br>
![](screen/13.02.png)
``ncdu /var/log``<br>
![](screen/13.03.png)

- Размеры должны примерно совпадать с полученными в [Part 12](#part-12-использование-утилиты-du).

- В отчёт вставить скрины с выводом использованных команд.

## Part 14. Работа с системными журналами

**== Задание ==**

##### Открыть для просмотра:
##### 1. /var/log/dmesg<br>
``sudo nano /var/log/dmesg``<br>
##### 2. /var/log/syslog
``sudo nano /var/log/syslog``<br>
##### 3. /var/log/auth.log  
``sudo nano /var/log/auth.log``<br>

- Написать в отчёте время последней успешной авторизации, имя пользователя и метод входа в систему.
![](screen/14.00.png)
- Перезапустить службу SSHd.
- Вставить в отчёт скрин с сообщением о рестарте службы (искать в логах).
![](screen/14.01.png)

## Part 15. Использование планировщика заданий **CRON**

**== Задание ==**

##### Используя планировщик заданий, запустите команду uptime через каждые 2 минуты.<br>
``crontab -e Редактирование или создание файла расписания для текущего пользователя;``<br>
``crontab -l Вывод содержимого расписания текущего пользователя;``<br>
``crontab -r Удаление файла расписания текущего пользователя;``<br>
``crontab -u user Работа с расписаниями конкретных пользователей.``<br>

- ![](screen/15.00.png)<br>

- Найти в системных журналах строчки (минимум две в заданном временном диапазоне) о выполнении.

![](screen/15.01.png)

- Вывести на экран список текущих заданий для CRON.
![](screen/15.02.png)

- Вставить в отчёт скрины со строчками о выполнении и списком текущих задач.

##### Удалите все задания из планировщика заданий.
- В отчёт вставьте скрин со списком текущих заданий для CRON.
![](screen/15.03.png)


💡 [Нажми тут](https://forms.yandex.ru/cloud/641817c002848f26a078c4a6/), **чтобы поделиться с нами обратной связью на этот проек**т. Это анонимно и поможет команде Продукта сделать твоё обучение лучше.
